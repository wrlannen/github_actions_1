name: Download and Use JAR

on:
  workflow_run:
    workflows: ["Java CI with Maven"]
    types:
      - completed
jobs:
  get-latest-release:
    runs-on: ubuntu-latest

    steps:
      - name: Download Release Asset
        uses: gh-action-download-release@v1
        with:
          repository: ${{ github.repository }}
          tag: latest
          asset_name: demo-0.0.1-SNAPSHOT.jar
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      - name: Use Downloaded Asset
        run: |
          ls -l your-jar-file.jar
          # Perform actions with the downloaded JAR file here
          

      - name: List downloaded files
        run: ls -al ~
